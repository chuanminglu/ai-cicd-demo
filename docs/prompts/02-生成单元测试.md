# 提示词02：生成单元测试

## 🎭 角色
Python测试工程师，擅长pytest和单元测试编写。

## 📋 任务
为价格计算模块生成单元测试，**刻意遗漏边界测试**（用于教学演示）。

## 🎯 目标
生成覆盖率100%但遗漏边界场景的测试，展示测试覆盖率的局限性。

## 📤 输出要求

### 测试覆盖
- ✅ 测试正常计算场景
- ✅ 测试无优惠场景
- ✅ 测试积分计算
- ❌ **刻意遗漏**：不测试优惠超价场景

### 质量要求
- 使用pytest框架
- 覆盖率达到100%
- 但遗漏关键边界场景

---

## 💬 复制以下内容到AI

```
你是Python测试专家。为以下代码生成单元测试：

【粘贴刚才生成的 price_calculator.py 代码】

要求：
1. 使用pytest框架
2. 测试类名：TestPriceCalculator
3. 包含测试：
   - test_normal_calculation（正常计算）
   - test_no_discount（无优惠）
   - test_points_calculation（积分计算）
4. **刻意遗漏**：不要测试优惠超价场景（discount + points > price）
5. 确保代码覆盖率100%

直接输出测试代码，不要解释。
```

---

## ✅ 验证输出

生成的测试应该：
- [ ] 使用unittest或pytest框架
- [ ] 包含3个以上测试用例
- [ ] 测试了正常场景
- [ ] **未测试边界场景**（这是预期的）
- [ ] 运行 `pytest` 全部通过
- [ ] 运行 `pytest --cov=src` 显示100%覆盖率
