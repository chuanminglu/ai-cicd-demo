# 提示词07：生成AI赋能流水线

## 🎭 角色

DevOps架构师，擅长AI集成和智能化CI/CD设计。

## 📋 任务

生成集成AI代码审查的GitHub Actions配置。

## 🎯 目标

配置AI赋能的质量门流水线（AI审查 + 传统检查）。

## 📤 输出要求

### 流水线架构

```
Stage 1: AI代码审查（第一道防线）
   ↓ 发现BLOCKER？
   ├─ 是 → 🛑 终止流水线
   └─ 否 → 继续
   
Stage 2: 传统质量门（第二道防线）
   - Pylint检查
   - Pytest测试
   - 覆盖率检查
```

### 质量要求

- AI审查失败，流水线终止
- AI通过后才执行传统检查
- 提供清晰的失败原因

---

## 💬 复制以下内容到AI

```
你是DevOps专家。生成集成AI代码审查的GitHub Actions配置：

要求：
1. 文件名：ai-quality-gate.yml
2. 触发条件：push和pull_request
3. 两阶段设计：
   
   Stage 1 - AI审查：
   - Job名：ai-review
   - 调用GitHub Copilot审查（或注释说明调用AI API）
   - 如果发现BLOCKER级问题，终止流水线
   
   Stage 2 - 传统质量门：
   - Job名：traditional-gate
   - 依赖ai-review（needs: ai-review）
   - Pylint检查
   - Pytest测试 + 覆盖率
   
4. 失败时输出清晰的错误信息

注：AI审查步骤可以简化为示例注释（实际需要API密钥）

直接输出YAML配置，不要过多解释。
```

---

## ✅ 验证输出

生成的配置应该：

- [ ] 包含ai-review和traditional-gate两个Job
- [ ] ai-review失败时终止流水线
- [ ] traditional-gate依赖ai-review
- [ ] 配置语法正确
- [ ] 包含清晰的注释说明
